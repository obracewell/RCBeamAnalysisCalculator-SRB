<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RC Beam Analysis Calculator - Singly Reinforced Beam</title>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9;
        }
        input {
            margin-bottom: 10px;
        }
        button {
            margin-top: 10px;
        }
        .output {
            margin-top: 20px;
            white-space: pre-wrap;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .success {
            color: black;
            font-weight: bold;
        }
        .image {
            width: 280px;
            height: auto;
        }
        .centered {
            text-align: center;
        }
        .centered-img {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        input:disabled {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <h1 class="centered">RC Beam Analysis Calculator</h1>
    <h1 class="centered">Singly Reinforced Beam</h1>
    <h2 class="centered">ANALYSIS AT FAILURE</h2>

    <img src="https://github.com/obracewell/RCanalysiscalculator/blob/main/assets/SRBlabeled.png?raw=true" 
        alt="Rectangular Section SRB Diagram" 
        class="image centered-img" />
    
    <p class="success">Input the following values:</p>
    
    <label for="fc">Compressive stress of concrete, f'<sub>c</sub> (psi): </label>
    <input type="number" id="fc"><br>

    <label for="fy">Yield stress of steel, f<sub>y</sub> (psi): </label>
    <input type="number" id="fy"><br>

    <label for="As">Cross-sectional area of steel, A<sub>s</sub> (in<sup>2</sup>): </label>
    <input type="number" id="As"><br>

    <div style="margin-left: 30px;">
    <label for="numBars">OR </label>
    <input type="number" id="numBars" placeholder="Number of bars" oninput="toggleAsInput()">
    <label for="barSize">#</label>
    <select id="barSize" onchange="toggleAsInput()">
        <option value="">Select bar size</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="14">14</option>
        <option value="18">18</option>
    </select>
    <label for="rows">Rows of Bars:</label>
    <select id="rows" onchange="toggleAsInput()">
        <option value="">Select</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <br>
    </div>
    
    <label for="d">Depth of steel, d (in): </label>
    <input type="number" id="d"><br>

    <label for="b">Length of the base, b (in): </label>
    <input type="number" id="b"><br>

    <button onclick="performAnalysis()">Calculate</button>

    <div id="output" class="output"></div>
   
    <div id="graph" style="width: 800px; height: 600px;"></div>

    <script>
       
        //Bar size to area mapping
        const barAreaTable = {
            3: 0.11,
            4: 0.20,
            5: 0.31,
            6: 0.44,
            7: 0.60,
            8: 0.79,
            9: 1.00,
            10: 1.27,
            11: 1.56,
            14: 2.25,
            18: 4.00,
        };
        //bmin for bar selection
          const barTable = [
          { barSelection: "2#4 bars", area: 0.39, rows: 1, bmin: 6.8 },
          { barSelection: "3#4 bars", area: 0.58, rows: 1, bmin: 8.3 },
          { barSelection: "4#4 bars", area: 0.78, rows: 1, bmin: 9.8 },
          { barSelection: "4#4 bars", area: 0.78, rows: 2, bmin: 6.8 },
          { barSelection: "5#4 bars", area: 0.98, rows: 1, bmin: 11.3 },
          { barSelection: "6#4 bars", area: 1.18, rows: 1, bmin: 12.8 },
          { barSelection: "6#4 bars", area: 1.18, rows: 2, bmin: 8.3 },
          { barSelection: "6#4 bars", area: 1.18, rows: 3, bmin: 6.8 },
          { barSelection: "7#4 bars", area: 1.37, rows: 1, bmin: 14.3 },
          { barSelection: "8#4 bars", area: 1.57, rows: 1, bmin: 15.8 },
          { barSelection: "8#4 bars", area: 1.57, rows: 2, bmin: 9.8 },
          { barSelection: "9#4 bars", area: 1.77, rows: 3, bmin: 8.3 },
          { barSelection: "2#5 bars", area: 0.61, rows: 1, bmin: 6.9 },
          { barSelection: "3#5 bars", area: 0.91, rows: 1, bmin: 8.5 },
          { barSelection: "4#5 bars", area: 1.23, rows: 1, bmin: 10.2 },
          { barSelection: "4#5 bars", area: 1.23, rows: 2, bmin: 6.9 },
          { barSelection: "5#5 bars", area: 1.53, rows: 1, bmin: 11.8 },
          { barSelection: "6#5 bars", area: 1.84, rows: 1, bmin: 13.4 },
          { barSelection: "6#5 bars", area: 1.84, rows: 2, bmin: 8.5 },
          { barSelection: "6#5 bars", area: 1.84, rows: 3, bmin: 6.9 },
          { barSelection: "7#5 bars", area: 2.15, rows: 1, bmin: 15.0 },
          { barSelection: "8#5 bars", area: 2.45, rows: 1, bmin: 16.7 },
          { barSelection: "8#5 bars", area: 2.45, rows: 2, bmin: 10.2 },
          { barSelection: "9#5 bars", area: 2.76, rows: 3, bmin: 8.5 },
          { barSelection: "2#6 bars", area: 0.88, rows: 1, bmin: 7.0 },
          { barSelection: "3#6 bars", area: 1.32, rows: 1, bmin: 8.8 },
          { barSelection: "4#6 bars", area: 1.77, rows: 1, bmin: 10.5 },
          { barSelection: "4#6 bars", area: 1.77, rows: 2, bmin: 7.0 },
          { barSelection: "5#6 bars", area: 2.21, rows: 1, bmin: 12.3 },
          { barSelection: "6#6 bars", area: 2.65, rows: 1, bmin: 14.0 },
          { barSelection: "6#6 bars", area: 2.65, rows: 2, bmin: 8.8 },
          { barSelection: "6#6 bars", area: 2.65, rows: 3, bmin: 7.0 },
          { barSelection: "7#6 bars", area: 3.09, rows: 1, bmin: 15.8 },
          { barSelection: "8#6 bars", area: 3.53, rows: 1, bmin: 17.5 },
          { barSelection: "8#6 bars", area: 3.53, rows: 2, bmin: 10.5 },
          { barSelection: "9#6 bars", area: 3.98, rows: 3, bmin: 8.8 },
          { barSelection: "2#7 bars", area: 1.20, rows: 1, bmin: 7.2 },
          { barSelection: "3#7 bars", area: 1.80, rows: 1, bmin: 9.0 },
          { barSelection: "4#7 bars", area: 2.41, rows: 1, bmin: 10.9 },
          { barSelection: "4#7 bars", area: 2.41, rows: 2, bmin: 7.2 },
          { barSelection: "5#7 bars", area: 3.01, rows: 1, bmin: 12.8 },
          { barSelection: "6#7 bars", area: 3.61, rows: 1, bmin: 14.7 },
          { barSelection: "6#7 bars", area: 3.61, rows: 2, bmin: 9.0 },
          { barSelection: "6#7 bars", area: 3.61, rows: 3, bmin: 7.2 },
          { barSelection: "7#7 bars", area: 4.21, rows: 1, bmin: 16.5 },
          { barSelection: "8#7 bars", area: 4.81, rows: 1, bmin: 18.4 },
          { barSelection: "8#7 bars", area: 4.81, rows: 2, bmin: 10.9 },
          { barSelection: "9#7 bars", area: 5.41, rows: 3, bmin: 9.0 },
          { barSelection: "2#8 bars", area: 1.57, rows: 1, bmin: 7.3 },
          { barSelection: "3#8 bars", area: 2.35, rows: 1, bmin: 9.3 },
          { barSelection: "4#8 bars", area: 3.14, rows: 1, bmin: 11.3 },
          { barSelection: "4#8 bars", area: 3.14, rows: 2, bmin: 7.3 },
          { barSelection: "5#8 bars", area: 3.93, rows: 1, bmin: 13.3 },
          { barSelection: "6#8 bars", area: 4.71, rows: 1, bmin: 15.3 },
          { barSelection: "6#8 bars", area: 4.71, rows: 2, bmin: 9.3 },
          { barSelection: "6#8 bars", area: 4.71, rows: 3, bmin: 7.3 },
          { barSelection: "7#8 bars", area: 5.50, rows: 1, bmin: 17.3 },
          { barSelection: "8#8 bars", area: 6.28, rows: 1, bmin: 19.3 },
          { barSelection: "8#8 bars", area: 6.28, rows: 2, bmin: 11.3 },
          { barSelection: "9#8 bars", area: 7.07, rows: 3, bmin: 9.3 },
          { barSelection: "2#9 bars", area: 2.00, rows: 1, bmin: 7.6 },
          { barSelection: "3#9 bars", area: 3.00, rows: 1, bmin: 9.8 },
          { barSelection: "4#9 bars", area: 4.00, rows: 1, bmin: 12.1 },
          { barSelection: "4#9 bars", area: 4.00, rows: 2, bmin: 7.6 },
          { barSelection: "5#9 bars", area: 5.00, rows: 1, bmin: 14.3 },
          { barSelection: "6#9 bars", area: 6.00, rows: 1, bmin: 16.6 },
          { barSelection: "6#9 bars", area: 6.00, rows: 2, bmin: 9.8 },
          { barSelection: "6#9 bars", area: 6.00, rows: 3, bmin: 7.6 },
          { barSelection: "7#9 bars", area: 7.00, rows: 1, bmin: 18.8 },
          { barSelection: "8#9 bars", area: 8.00, rows: 1, bmin: 21.1 },
          { barSelection: "8#9 bars", area: 8.00, rows: 2, bmin: 12.1 },
          { barSelection: "9#9 bars", area: 9.00, rows: 3, bmin: 9.8 },
          { barSelection: "2#10 bars", area: 2.53, rows: 1, bmin: 7.8 },
          { barSelection: "3#10 bars", area: 3.79, rows: 1, bmin: 10.4 },
          { barSelection: "4#10 bars", area: 5.06, rows: 1, bmin: 12.9 },
          { barSelection: "4#10 bars", area: 5.06, rows: 2, bmin: 7.8 },
          { barSelection: "5#10 bars", area: 6.33, rows: 1, bmin: 15.5 },
          { barSelection: "6#10 bars", area: 7.59, rows: 1, bmin: 18.0 },
          { barSelection: "6#10 bars", area: 7.59, rows: 2, bmin: 10.4 },
          { barSelection: "6#10 bars", area: 7.59, rows: 3, bmin: 7.8 },
          { barSelection: "7#10 bars", area: 8.86, rows: 1, bmin: 20.5 },
          { barSelection: "8#10 bars", area: 10.12, rows: 1, bmin: 23.1 },
          { barSelection: "8#10 bars", area: 10.12, rows: 2, bmin: 12.9 },
          { barSelection: "9#10 bars", area: 10.12, rows: 3, bmin: 10.4 },
          { barSelection: "2#11 bars", area: 3.12, rows: 1, bmin: 8.1 },
          { barSelection: "3#11 bars", area: 4.68, rows: 1, bmin: 10.9 },
          { barSelection: "4#11 bars", area: 6.25, rows: 1, bmin: 13.8 },
          { barSelection: "4#11 bars", area: 6.25, rows: 2, bmin: 8.1 },
          { barSelection: "5#11 bars", area: 7.81, rows: 1, bmin: 16.6 },
          { barSelection: "6#11 bars", area: 9.37, rows: 1, bmin: 19.4 },
          { barSelection: "6#11 bars", area: 9.37, rows: 2, bmin: 10.9 },
          { barSelection: "6#11 bars", area: 9.37, rows: 3, bmin: 8.1 },
          { barSelection: "7#11 bars", area: 10.94, rows: 1, bmin: 22.2 },
          { barSelection: "8#11 bars", area: 12.50, rows: 1, bmin: 25.0 },
          { barSelection: "8#11 bars", area: 12.50, rows: 2, bmin: 13.8 },
          { barSelection: "9#11 bars", area: 14.06, rows: 3, bmin: 10.9 },
          { barSelection: "2#14 bars", area: 4.50, rows: 1, bmin: 8.9 },
          { barSelection: "3#14 bars", area: 6.75, rows: 1, bmin: 12.3 },
          { barSelection: "4#14 bars", area: 9.00, rows: 1, bmin: 15.7 },
          { barSelection: "4#14 bars", area: 9.00, rows: 2, bmin: 8.9 },
          { barSelection: "5#14 bars", area: 11.25, rows: 1, bmin: 19.0 },
          { barSelection: "6#14 bars", area: 13.50, rows: 1, bmin: 22.4 },
          { barSelection: "6#14 bars", area: 13.50, rows: 2, bmin: 12.3 },
          { barSelection: "6#14 bars", area: 13.50, rows: 3, bmin: 8.9 },
          { barSelection: "7#14 bars", area: 15.75, rows: 1, bmin: 25.8 },
          { barSelection: "8#14 bars", area: 18.00, rows: 1, bmin: 29.2 },
          { barSelection: "8#14 bars", area: 18.00, rows: 2, bmin: 15.7 },
          { barSelection: "9#14 bars", area: 20.25, rows: 3, bmin: 12.3 },
          { barSelection: "2#18 bars", area: 8.00, rows: 1, bmin: 10.6 },
          { barSelection: "3#18 bars", area: 12.00, rows: 1, bmin: 15.1 },
          { barSelection: "4#18 bars", area: 16.00, rows: 1, bmin: 19.6 },
          { barSelection: "4#18 bars", area: 16.00, rows: 2, bmin: 10.6 },
          { barSelection: "5#18 bars", area: 20.00, rows: 1, bmin: 24.1 },
          { barSelection: "6#18 bars", area: 24.00, rows: 1, bmin: 28.6 },
          { barSelection: "6#18 bars", area: 24.00, rows: 1, bmin: 15.1 },
          { barSelection: "6#18 bars", area: 24.00, rows: 1, bmin: 10.6 },
          { barSelection: "7#18 bars", area: 28.00, rows: 1, bmin: 33.1 },
          { barSelection: "8#18 bars", area: 32.00, rows: 1, bmin: 37.7 },
          { barSelection: "8#18 bars", area: 32.00, rows: 2, bmin: 19.4 },
          { barSelection: "9#19 bars", area: 36.00, rows: 3, bmin: 15.1 }
        ];
        
        function performAnalysis() {
            // Get input values
            const fc = parseFloat(document.getElementById('fc').value);
            const fy = parseFloat(document.getElementById('fy').value);
            let As = parseFloat(document.getElementById('As').value);
            const d = parseFloat(document.getElementById('d').value);
            const b = parseFloat(document.getElementById('b').value);

            // Check for bar size alternative
            if (isNaN(As) || As === 0) {
                const barSize = parseInt(document.getElementById('barSize').value);
                const numBars = parseFloat(document.getElementById('numBars').value);
                const rowsValue = document.getElementById('rows').value;
                const rows = parseInt(rowsValue);
            }
                if (isNaN(rows)) {
                    const outputDiv = document.getElementById('output');
                    outputDiv.innerHTML = `<span class="error">Please select the number of rows.</span>`;
                return;
                }
                
                if (!isNaN(barSize) && barAreaTable[barSize] && !isNaN(numBars)) {
                    As = barAreaTable[barSize] * numBars;
                    // Create the bar selection string, e.g., "4#5 bars"
                    const barSelectionStr = `${numBars}#${barSize} bars`;
                   // Find matching bar configuration from the table
                    const barConfig = barTable.find(config => config.barSelection === barSelectionStr && config.rows === rows);
                    // Check if beam width b is sufficient
                    if (barConfig && b < barConfig.bmin) {
                        const outputDiv = document.getElementById('output');
                        outputDiv.innerHTML = `<span class="error">Selected configuration <strong>${barSelectionStr}</strong> requires a minimum beam width of <strong>${barConfig.bmin} in</strong>.<br>
                       Current b = <strong>${b} in</strong>. Please increase b or choose a different bar configuration.</span>`;
                        return;
                     }
            }
            
            // Validate inputs
            if (isNaN(fc) || isNaN(fy) || isNaN(As) || isNaN(d) || isNaN(b)) {
                alert("Please enter all values.");
                return;
            }

            let output = 'Results:\n\n';
            let errorMessage = '';
            
            // Assign beta1 value
            let b1;
            if (fc <= 4000 && fc > 0) {
                b1 = 0.85;
            } else if (fc > 4000 && fc < 8000) {
                b1 = 0.85 - ((fc - 4000) / 1000) * 0.05;
            } else if (fc >= 8000) {
                b1 = 0.65;
            }

            // Check if As exceeds minimum value
            const Asmin1 = (3 * Math.sqrt(fc) * b * d) / fy;
            const Asmin2 = (200 * b * d) / fy;
            const Asmin = Math.max(Asmin1, Asmin2);
            
            if (As < Asmin) {
                errorMessage += 'The cross-sectional area of the steel does NOT exceed the minimum.\n';
                errorMessage += 'These section parameters cannot be used.\n';
            } else {
                output += 'The cross-sectional area exceeds the minimum.\n';
            }

            // Solve for a
            const a = (As * fy) / (0.85 * fc * b);
            output += `a = ${a.toFixed(2)} in\n`;

            // Display b1
            output += `&#946<sub>1</sub> = ${b1.toFixed(2)}\n`;
            
            // Solve for c
            const c = a / b1;
            output += `c = ${c.toFixed(2)} in\n`;

            // Solve for strain in steel
            const stlstrain = ((d - c) / c) * 0.003;
            output += `&#949<sub>t</sub> = ${stlstrain.toFixed(4)}\n`;

            // Calculate phi
            let phi;
            if (stlstrain >= 0.005) {
                phi = 0.9;
                output += `&#934 = ${phi.toFixed(2)}, Ductile Section\n`;
            } else if (stlstrain >= 0.004 && stlstrain < 0.005) {
                phi = 0.65 + (stlstrain - 0.002) * (250 / 3);
                output += `&#934 = ${phi.toFixed(2)}, <span style="color:orange;">Transition Zone</span>\n`;
            } else {
                errorMessage += 'Tension strain in steel is less than 0.004 and therefore is not ACI compliant.\n';
                errorMessage += 'These section parameters cannot be used.\n';
            }

            // Solve for maximum internal moment
            const Mn = As * fy * (d - (a / 2)) * (1 / 12000);
            output += `Maximum internal moment: M<sub>n</sub> = ${Mn.toFixed(2)} k·ft\n`;

            // Solve for usable/design capacity
            const descap = phi * Mn;
            output += `Usable/design capacity: &#934M<sub>n</sub> = ${descap.toFixed(2)} k·ft\n`;

            // Solve for steel reinforcement ratio
            const rho = As / (b * d);
            output += `Steel reinforcing ratio: &#961 = ${rho.toFixed(4)}\n`;

            // Always display results
            let finalOutput = `<span class="success">${output}</span>`;

            // Append error message if exists
            if (errorMessage) {
                finalOutput += `<br><span class="error">${errorMessage}</span>`;
            }

            // Display in output div
            document.getElementById('output').innerHTML = finalOutput;

            // Plot the graph
            plotGraph(b, d, c, a);
        }
        
        function plotGraph(b, d, c, a) {
            const h = d + 2;
            const x_range = [-0.03 - b * 0.001, -0.03, 0.06];

            const traces = [
                {
                    x: [-0.03 - b * 0.001, -0.03],
                    y: [0, 0],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [-0.03 - b * 0.001, -0.03],
                    y: [h, h],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [(-0.03 - b * 0.001), (-0.03 - b * 0.001)],
                    y: [0, h],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [-0.03, -0.03],
                    y: [0, h],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [0, 0],
                    y: [0, h],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [0.03, 0.03],
                    y: [0, h],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [-0.02, 0.06],
                    y: [0, 0],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [-0.02, 0.06],
                    y: [h, h],
                    mode: 'lines',
                    line: { color: 'black' },
                    showlegend: false
                },
                {
                    x: [-0.03 - b * 0.001, -0.03],
                    y: [h - c, h - c],
                    mode: 'lines',
                    line: { color: 'black', dash: 'dash' },
                    name: 'Neutral Axis: c'
                },
                {
                    x: [-0.03 - b * 0.001, -0.03],
                    y: [h - a, h - a],
                    mode: 'lines',
                    line: { color: 'blue', dash: 'dot' },
                    name: 'Compression Concrete Depth: a'
                },
                {
                    x: [-0.02, 0.06],
                    y: [h - c, h - c],
                    mode: 'lines',
                    line: { color: 'black', dash: 'dash' },
                    showlegend: false
                },
                {
                    x: [0.03, 0.035],
                    y: [h - a, h - a],
                    mode: 'lines',
                    line: { color: 'blue' },
                    name: 'Whitney Stress Block'
                },
                {
                    x: [0.03, 0.035],
                    y: [h - a * 0.2, h - a * 0.2],
                    mode: 'lines',
                    line: { color: 'blue' },
                    showlegend: false
                },
                {
                    x: [0.03, 0.035],
                    y: [h - a * 0.4, h - a * 0.4],
                    mode: 'lines',
                    line: { color: 'blue' },
                    showlegend: false
                },
                {
                    x: [0.03, 0.035],
                    y: [h - a * 0.6, h - a * 0.6],
                    mode: 'lines',
                    line: { color: 'blue' },
                    showlegend: false
                },
                {
                    x: [0.03, 0.035],
                    y: [h - a * 0.8, h - a * 0.8],
                    mode: 'lines',
                    line: { color: 'blue' },
                    showlegend: false
                },
                {
                    x: [0.035, 0.035],
                    y: [h - a, h],
                    mode: 'lines',
                    line: { color: 'blue' },
                    showlegend: false
                },
                {
                    x: [0.03, 0.04],
                    y: [h - d, h - d],
                    mode: 'lines',
                    line: { color: 'purple' },
                    name: 'Tensile Force in Steel'
                },
                {
                    x: [0.035, 0.045],
                    y: [h - a * 0.5, h - a * 0.5],
                    mode: 'lines',
                    line: { color: 'red' },
                    name: 'Compressive Force in Concrete'
                },
                {
                    x: [],
                    y: [],
                    mode: 'lines',
                    line: { color: 'green' },
                    name: 'Strain Line'
                }
            ];

            // Strain diagram points
            var xValues = [];
            var yValues = [];
            for (var y = 0; y <= h; y += 0.01) {
                var x = (0.003 / c) * (y - h) + 0.003;
                xValues.push(x);
                yValues.push(y);
            }
            traces[19].x = xValues;
            traces[19].y = yValues;

            const layout = {
                xaxis: { showticklabels: false, visible: false, scaleanchor: 'y', scaleratio: 1000 },
                yaxis: { showticklabels: false, visible: false, scaleanchor: 'x', scaleratio: 1 },
                showlegend: true,
                paper_bgcolor: "white",
                plot_bgcolor: "white"
            };

            // Steel reinforcement circle
            var circle = {
                type: 'circle',
                xref: 'x',
                yref: 'y',
                x0: -(61 + b) / 2000,
                y0: h - d - 0.5,
                x1: -(59 + b) / 2000,
                y1: h - d + 0.5,
                line: { color: 'grey' }
            };

            layout.shapes = [circle];

            Plotly.newPlot('graph', traces, layout, { staticPlot: true });
        }
        function toggleAsInput() {
        const barSize = document.getElementById('barSize').value;
        const numBars = document.getElementById('numBars').value;
        const rows = parseInt(document.getElementById('rows').value);
        const AsInput = document.getElementById('As');

        // Disable As input if all bar config inputs are filled
        if (barSize && numBars && rows) {
            AsInput.disabled = true;
            AsInput.placeholder = "Disabled (using bar selection)";
            AsInput.value = ""; // Optional: clear any existing As
        } else {
            AsInput.disabled = false;
            AsInput.placeholder = "Cross-sectional area of steel";
        }
    }
    </script>
</body>
</html>
